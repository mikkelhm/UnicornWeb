<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <style>
        body {
            background: #acd2dc url(/assets/images/unicorn.png) no-repeat fixed 50% 50%;
            font-family: 'Alegreya Sans', sans-serif;
        }
    </style>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
    <style>
        .toast-info { background-color: #fff;}
        #toast-container>div { 
            color: #f36798;
            font-weight: bold;
            border: 7px solid #f36798;
            padding: 15px;
        }
    </style>
    <link href='https://fonts.googleapis.com/css?family=Alegreya+Sans' rel='stylesheet' type='text/css'>

</head>
<body>
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.0.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/signalr/jquery.signalr-2.2.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    

<script>
    var connection = $.hubConnection("https://unicorn.azurewebsites.net");
    var messageHub = connection.createHubProxy('messageHub');
    messageHub.on('addMessage', function (userName, message, disco) {
        if (disco) {
            toastr.options.timeOut = (60000) * 60;
            toastr.options.progressBar = true;
        } else {
            toastr.options.timeOut = (60000) * 10;
        }
        toastr.options.positionClass = "toast-top-center";
        toastr["info"](userName + ': ' + message);
    });
    connection.start()
        .done(function(){ console.log('Now connected, connection ID=' + connection.id); })
        .fail(function(){ console.log('Could not connect'); });
</script>
</body>
</html>
